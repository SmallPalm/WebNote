# 搜索框思路

在主界面里面添加 本地存储

在let 一个变量 代表  本地存储

lei cityhistory = localStorage.getItem("cityhistory")	

然后在判断一下 将cityhistory变成数组

if ( !cityhistory ){

localStorage.setItem('cityhistory' , JSON.stringity([]))

}



然后再搜索页面  用mounted  钩子  在找到 主页面定义的cityhistory

let cityhistory = localStorage.getItem('cityhistory')

cityhistory = JSON.parse('cityhisory')

在在data中定义 . cityhistory 数组

this.cityhistory = cityhistory



在在methods 中写出  方法

let cityhisory = localStorage.getItem ('cityhisory')

cityhistory = JSON.parse( 'cityhisory')

cityhistory.push (city)    //添加city搜索东西

localStorage.setItem ('cityhistory'  ,JSON.stringity(cityhistory))

最近将cityhistory  添加  v-for中



# 充值思路

在充值按钮中添加点击事件  @click = " handleupclick(充值金额)"

在方法中写	点击事件中  用axios请求接口

price 充值金额

handleupclick(Price){

aixos.post("/充值接口" , {参数:price})

aixos.get("/充值接口 ? 参数=" + this.price)

.then(res =>{

//判定充值是否成功

​	if(res.data.status== 充值数量){

//还需要在主页面找到 原有的金额  在data中定义  addprice : 3000  在用方法    methods{  addprice(price){

//this.addprice = this.addprice+price

//}}

充值成功

this.$emit('add' , price)

}else{

充值失败

}

})

}



# 点击加载更多数据思路

在点击加载更多添加点击事件

用methods{

点击事件(){

请求接口获取数据

aixos.get('数据接口 ? 参数 = '  +this.index)

.then(res =>{

循环添加数据

for(let n=0 ;n<res.deta.length ; n++){

this.decaList.push(res.data[n])

}

一次添加十个

this.index= this.index+10

})

}

}

