# Tree Shaking

- 摇树
- 对于那些在项目中没有用到的东西可以摇树
  - 所有不需要但是没有用的东西会对项目增重

- 这个东西没有用到
  - 从tree树中摇下去
  - 减少包的体积



# 修改第三方UI组件库的样式

1. 使用插槽, 插入自己的元素
   - 那么在自己的作用域中直接修改这个元素
2. 全局定义一个变量, 覆盖它默认变量的值
   - 缺点 : 全局修改
3. 局部定义一个变量 , 覆盖它默认变量的值
   - 优点 : 局部修改
4. 直接查找对应的子组件的选择器, 进行修改
   - 使用 :deep
     - 跳过作用域:修改子组件的元素选择器
   - 直接修改CSS



# 网络请求

- 在service下的modules的文件中
  - 配置网络请求
- 通过一个index文件
  - 发生给状态管理
- 状态管理中获取网络请求
- 在分发到相对应的组件中

# 使用**GeoloctionAPI**

- 获取位置在谷歌浏览器中需要链接服务器
  - 谷歌浏览器的服务器又在国外
    - 所以获取不到位置
- 使用EdGe浏览器获取位置
  - 是会先从电脑的IP开始获取



# 页面数据请求会有两种方式

- 一种以page
  - 分页展示
  - page为1
    - 展示一页的数据
  - 为2
    - 在增加一页是数据
  - 一页一页的增加数据
- 一种以size&offset传递
  - size : 第一次请求了多少的数据
  - offset : 从多少条数据开始请求数据
    - offset : 也称之为偏出
  - 第一次size为30 offset为0
    - size = 30&offset = 0
  - 第二次size为60 offset 为 30
    - size=60&offset=30
  - 以此类推



# 每一个文件夹的作用

- assets : 存放一些资源的 : 
  - 项目中的重置CSS文件, CSS复用文件, img图片资源 , 静态资源 , 网络字体资源, 都会存放在assets
- components : 存放抽取的的组件
  - 但是并不会将所有的组件都存放在这里
  - 存放一些通用的组件, 共同的组件
    - 属于页面的组件会再页面上单独存放component组件
- 共用文件夹 : 也可以放入base-ui
  - common :  多个项目都会共用的组件
  - content : 当前项目多个页面都会共用的组件
- **hooks** : 对于多个组件用到的公共的代码逻辑
  - **hooks内部的属性、函数等和外部组件具有响应式依附的作用****
    - 就是会依赖于外部组件的一些状态
  - 函数名/文件名以use开头
- mock : 用于模拟一些数据  : 先存放自己模拟的数据
  - 当服务器的数据还没有写好, 就先使用模拟数据
- router :  路由相关的配置
- service :  存放网络请求封装的东西
  - 也可以将网络请求封装好, 组件使用时 , 直接调用即可
- store : 存放状态管理  : 如pinia VueX
- utils :  抽取工具类的函数 
  - 一般封装的工具类的函数以get为开头 
- views 或 pages : 存放页面: 一个页面一个文件夹 
  - 一个大的页面抽取一个views

## 需求: 开发tab

1. 开发出来一个tabcontrol
2. 监听滚动
   1. 滚到一定位置, 显示出来
3. 监听tabcontrol点击 , 点击之后滚动正确的位置/



需求 : 页面滚动 , 滚动到一定的位置时, 显示正确的tabControl的索引

1. watch监听滚动的位置 ->ScrollTop

   - 如 ScrollTop = 600

2. 利用ScrollTop去匹配正确的TabControl的位置

   - offsetTop
   - tab
     - [描述300, 设施500, 房东800, 评论1200, 须知1400, 周边1700]

3. 一个记录tab的位置的数组

   - const values = [300, 500, 800, 1200, 1400, 1700 , values.length -1]

4. 获取位置的索引

   - 因为位置的数组最后一个值是匹配不到了 , 当匹配不到时, 就会取默认值

   - let index = values.length -1

5. 通过for循环进行赋值

   1. ```js
      for(let i = 0; i < values.length; i++){
      	//每一个位置赋值给value  
        const value = values[i]
        //判断value 是否大于scrollTop
        if(value > scrollTop){
          //当大于时, index赋值索引 -1
          //索引-1是因为需要匹配的比当前位置小的最后一个
      		// 位置小的最后一个,不可以是第一个    
          index = i - 1
          break
        }
      }
      ```

## 给项目配置CSS 宽高等的单位

- 给打包工具安装一个插件
- postcss-px-to-viewport
  - 用于将 px 单位转化为 vw/vh 单位
- 安装这个插件
- 在打包时
  - 会将CSS中所有的单位转换为vw单位
- 在本地运行项目时
  - 也会自动将所用的单位转换为vw但是





# hooks文件夹

优点

- hooks作为独立逻辑的组件封装，其内部的属性、函数等和外部组件具有响应式依附的作用。
- 自定义 hook 的作用类似于 vue2 中的 mixin 技术，使用方便，易于上手。
- 使用 Vue3 的组合 API 封装的可复用，高内聚低耦合。

封账的hooks的规范

1、具备可复用功能，才需要抽离为hooks独立文件

2、函数名/文件名以use开头，形如: useXX

3、引用时将响应式变量或者方法显式解构暴露出来



# hooks文件夹和utils文件夹的区别

- **相同点**

  - 通过hooks和utils函数封装
    - 可以实现组件间共享和复用
    - 提高代码的可重用性和可维护性。

- **不同点**

  - 表现形式的不同

    - hooks是在 utils 的基础上再包裹一层组件级别的东西
      - 如钩子函数等

  - 数据是否具有响应式

    -  hooks 中如果涉及到 ref，reactive，computed 这些 api 的数据
      - 是具有响应式的

    - 而 utils 只是单纯提取公共方法就不具备响应式

  - 作用范围的不同

    - hooks封装，可以将组件的状态和生命周期方法提取出来
      - 并在多个组件之间共享和重用
    - tils通常是指一些辅助函数或工具方法
      - 用于实现一些常见的操作或提供特定功能

  - 总结

    - utils是通用的工具函数，而hooks是对utils的一种封装
      - 用于在组件中共享状态逻辑和副作用
    - 通过使用hooks，可以简化代码
      - 并使其更具可读性和可维护性







# CSS样式的重置

- 对项目的CSS样式的重置
- normalize.css
  - 一个库
  - 使用这个库对一些常见的CSS样式来做一些重构
- 直接使用库
- 在使用reset.css
  - 对自己想要的一些css样式来进行重构
- 使用common.css
  - 对项目共同需要的css样式写入
  - 如, 页面是1200宽
  - 如 , font-size是14px
  - 就不需要一个一个字体更改
  - 使用root : 定义变量 : 直接组件中使用
    - ![image-20240121163356086](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20240121163356086.png)



# URL

## img的src无法解析的本地的url地址

- 封装一个工具函数
  - ![image-20240121164010680](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20240121164010680.png)





# router文件夹 : 路由配置

- ![image-20240121164050455](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20240121164050455.png)



# store文件夹 : 状态管理

- ![image-20240121164224471](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20240121164224471.png)





# service文件夹 :  网络请求配置

- ![image-20240121164847592](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20240121164847592.png)
- 网络请求配置的好处
  - ![image-20240121165043188](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20240121165043188.png)

