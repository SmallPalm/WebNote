# V-model的基本使用

需求

- 表单提交是开发中非常常见的功能
  - 也是和用户交互的重要手段
- 如用户在登录 , 注册时需要提交账号密码
  - 用户在检索 , 创建 , 更新信息时,  需要提交一些数据

在代码逻辑中获取到用户的提交数据

- 通常使用V-model指令来完成

理解

- V-model指令可以在表单input textarea 以及 select元素上创建**双向数据绑定**
- 它会根据**控件类型**
  - 自动选取正确的方法来更新元素
- V-model本质上不过是语法糖
  - 负责监听用户的输入事件来更新数据
- 并在某种极端场景下进行一些特殊的处理



# V-model的原理

- v-bind绑定value属性的值
- v-on绑定input事件监听到函数中
  - 函数会获取最新的值赋值到绑定的属性中
- 事实上v-model在vue源码中更加复杂



# V-model绑定类型

- **v-model绑定textarea**
- **v-model绑定checkbox**
  - 单个勾选框和多个勾选框
- **单个勾选框**
  -  v-model即为布尔值
  - 此时input的value属性并不影响v-model的值
- **多个复选框**
  - 当是多个复选框时
    - 因为可以选中多个
    - 所以对应的v-model的值中属性是一个数组。
  - 当选中某一个时，就会将input的value添加到数组中。
- **v-model绑定radio**
- **v-model绑定select**
  - **单选：只能选中一个值**
    - v-model绑定的是一个值
    - 当我们选中option中的一个时
      - 会将它对应的value赋值到fruit中
  - **多选：可以选中多个值**
    - v-model绑定的是一个数组
    -  当选中多个值时
      - 就会将选中的option对应的value添加到数组fruit中





# v-model的值绑定

- 目前我们在前面的案例中大部分的值都是
  - 在template中固定好
- 在真实开发中，我们的数据可能是来自服务器的
  - 那么我们就可以先将值请求下来
  - 绑定到data返回的对象中
  - 再通过v-bind来进行值的绑定
  - 这个过程就是**值绑定**



# v-model修饰符

lazy

- 默认情况下，v-model在进行双向绑定时
- 绑定的是input事件
- 那么会在每次内容输入后
  - **自动**将最新的值和绑定的属性进行同步
- 如果我们在v-model后**跟上lazy修饰符**
- 那么会将绑定的事件**切换为 change 事件**
  - 只有在点击提交时（比如回车）才会触发

number

- message总是string类型
- 即使在我们设置type为number也是string类型
  - 望转换为数字类型，那么可以使用 .number 修饰符
- 也可以将



- 在我们进行逻辑判断大于小于number类型时
- 如果是一个string类型
  - 在可以转化的情况下会进行隐式转换的

trim

- 如果要自动过滤用户输入的守卫空白字符
  - 可以给v-model添加 trim 修饰符

