##### 为什么Vue中的Data是一个Function而不是普通Object？

因为组件是用来复用的，并且 JavaScript 里对象是引用关系

- 如果组件中Data是一个对象，那么这样没有作用域隔离
  - 子组件中的Data属性值和父组件的Data属性会相互影响
- 如果组件中Data选项是一个Function
  - 那么每个实例可以维护一份被返回对象的独立的拷贝
- 组件实例之间的Data属性值不会相互影响
- 而 new Vue的实例，是不会被复用的，因此不存在引用对象的问题





**为什么 Vue 中的 Data 是一个 Function 而不是普通 Object？**

这是因为 Vue 组件设计为可复用的，而 JavaScript 中的对象是引用类型的。

如果 `data` 是一个普通对象，那么所有组件实例将共享同一个对象，导致状态的共享和相互影响。



1. **组件是用来复用的，并且 JavaScript 里对象是引用关系**
   - 组件复用意味着同一个组件可以在应用中多次使用。如果 `data` 是一个普通对象，那么所有实例都会引用同一个对象，这会导致状态管理上的混乱。
2. **如果组件中 Data 是一个对象，那么这样没有作用域隔离**
   - 作用域隔离意味着每个组件的 `data` 应该是独立的，不应该与其他组件的 `data` 相互影响。
3. **子组件中的 Data 属性值和父组件的 Data 属性会相互影响**
   - 如果 `data` 是一个对象，那么子组件对 `data` 的修改会影响到父组件，反之亦然，这显然不是我们想要的。
4. **如果组件中 Data 选项是一个 Function**
   - 将 `data` 定义为一个函数，Vue 会为每个组件实例调用这个函数，从而为每个实例创建一个独立的 `data` 对象。
5. **每个实例可以维护一份被返回对象的独立的拷贝**
   - 这意味着每个组件实例都有自己的 `data` 对象副本，它们之间不会相互影响。
6. **组件实例之间的 Data 属性值不会相互影响**
   - 这保证了组件状态的隔离性，每个组件都可以独立地管理自己的状态。
7. **而 new Vue 的实例，是不会被复用的，因此不存在引用对象的问题**
   - 当你创建一个新的 Vue 实例，如使用 `new Vue`，这个实例通常用于整个应用的根实例，它不会被复用。因此，它不需要 `data` 函数来创建多个状态副本，因为它的状态是全局的。



# 总结

Vue 将 `data` 设计为函数，是为了确保组件的可复用性和状态的隔离性。每个组件实例都会从 `data` 函数中获取自己的状态副本，避免了不同组件之间状态的相互影响。