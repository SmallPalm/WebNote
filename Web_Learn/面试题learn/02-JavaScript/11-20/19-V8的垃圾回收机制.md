# V8垃圾回收机制

**分代回收**

- V8使用分代回收策略，将对象分为不同的代
  - 通常包括新生代和老年代
- 新生代中包含了大多数新创建的对象
- 老生代中包含经过多次回收依然存活的对象。

这种策略有助于提供性能，因为新生代的对象通常比老生代的对象更容易回收

**标记-清除**

一种更加复杂的垃圾回收策略

- 它将内存中的所有对象分为 **可达** 和 **不可达** 两组。
- 垃圾回收器首先标记所有可达对象，然后清除所有的不可达对象
- 这个过程涉及两个阶段：标记阶段和清楚阶段

- **标记阶段**：从根对象开始，垃圾回收器递归遍历所有对象，并标记为可达对象
- **清楚阶段**：垃圾回收器清除所有的未标记对象，为不可达对象

**增量回收**

这种策略将垃圾回收操作分解为多个小步骤，以允许在应用程序执行期间执行垃圾回收操作，减少对应用程序的中断

**并行回收**

允许多个线程同时进行垃圾回收操作，以提高性能

**压缩**

为了减少内存碎片，V8垃圾回收器还包括了内存压缩步骤，将存活对象移动到内存的连续位置，以提高内存使用效率





# 总结

V8引擎中并没有使用引用计数（Reference Counting）作为主要的垃圾回收策略

- 引用计数是一种简单的垃圾回收策略
- 它通过跟踪对象引用的数据，当引用数量降为0时，对象就会被回收
- 然而，引用计数在处理循环引用等情况时， 存在问题，并且不够高效

V8的垃圾回收机制是一种复杂的混合策略，结合了多种技术，用于优化内存管理和性能

这些技术的结合使得V8成为了一个高性能的JavaScript引擎