# 代理服务器

- 代理服务器是一种中介服务器
  - 用于在**客户端**和**目标服务器**之间传递**请求和响应**
  - 它可以用于多种用途，包括提高安全性、缓存内容、负载均衡和实现跨域请求等

# 代理服务器的基本原理

- 将客户端将请求发送给代理服务器, 代理服务器在代表客户端向目标服务器发送请求
  - 随后将目标服务器的响应转发给客户端
- 代理服务器
  - 可以位于客户端附近（称为前向代理）
  - 可以位于服务器附近（称为反向代理）

前向代理: Forward Proxy

- 前向代理位于客户端和目标服务器之间
  - 代理客户端的请求
  - 常用于内容过滤, 缓存 和 访问

反向代理: Reverse Proxy

- 反向代理位于目标服务器和客户端之间
  - 代理目标服务器的响应
  - 常用于负载均衡, 安全防护和缓存

## 工作流程

1. **客户端请求**：客户端发送请求到代理服务器，而不是直接发送到目标服务器。
2. **代理服务器处理请求**：代理服务器接收到请求后，根据规则决定如何处理请求。可能会对请求进行修改、添加额外的头信息等。
3. **代理服务器向目标服务器发送请求**：代理服务器将处理后的请求转发给目标服务器。
4. **目标服务器响应**：目标服务器处理请求并生成响应，返回给代理服务器。
5. **代理服务器处理响应**：代理服务器接收到响应后，可以对其进行缓存、修改等处理。
6. **代理服务器返回响应**：代理服务器将最终的响应发送回客户端。

## 代理服务器的用途

1. **缓存**：代理服务器可以缓存静态内容
   - 如图片、CSS、JavaScript文件等，从而减少目标服务器的负载和响应时间。
2. **安全性**：通过代理服务器可以隐藏客户端的真实IP地址，提高安全性。
3. **内容过滤**：可以对请求和响应内容进行过滤，阻止不良内容的访问。
4. **负载均衡**：反向代理服务器可以将请求分发到多个目标服务器，以均衡负载，提升服务性能和可靠性。
5. **跨域请求**：在开发环境中，代理服务器可以用于解决CORS问题，使得前端能够顺利访问跨域资源。