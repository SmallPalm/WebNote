### 1. **详细设计报告**

详细设计报告通常包括系统架构、模块设计、数据结构、接口设计、算法描述等。为了编写这个报告，我需要了解：

- **系统功能模块**
  北京人济大厦
  北京贵都酒店
  石榴庄项目
- **系统架构**：整体的系统架构是怎样的？是基于微服务、单体应用还是其他架构？
- **技术栈**：你项目中使用的技术栈（比如，前端框架、后端技术、数据库、第三方库等）。
- **数据库设计**：是否有数据库设计文档？涉及哪些表结构？如何存储和管理数据？
- **接口设计**：系统内部及与外部系统的交互接口设计如何？包括REST API、GraphQL、消息队列等。
- **数据流**：数据如何流动和处理，数据来源、去向和转化过程是什么？
- **算法与业务逻辑**：系统中有没有复杂的算法或者业务逻辑的实现，如何处理复杂的计算和业务规则？

### 2. **用户报告**

用户报告主要面向用户，解释系统的功能和使用方法，突出系统的易用性、用户操作流程等。为此，我需要了解：

- **用户角色和权限**：有哪些不同的用户角色（如管理员、普通用户等）？每个角色的权限如何？
- **系统操作流程**：用户如何使用系统，系统的核心操作流程是怎样的？
- **系统界面**：用户交互的界面设计，是否有前端界面或移动端应用，用户如何与系统进行交互？
- **功能特性**：系统支持哪些核心功能，用户最常用的操作有哪些？

### 3. **系统测评报告**

系统测评报告通常包括系统的性能测试、功能测试、安全性测试、稳定性测试等方面。为了编写系统测评报告，我需要了解：

- **测试目的**：测试的具体目标是什么？例如，验证系统功能是否符合需求、性能是否达到预期等。
- **测试方法和工具**：使用了哪些测试方法（单元测试、集成测试、压力测试等）？使用了哪些工具（如Jest、JUnit、LoadRunner等）？
- **测试结果**：测试结果是什么？是否有遇到bug或者性能瓶颈？如果有，如何修复？
- **系统性能**：系统的响应时间、吞吐量等性能指标如何？
- **系统安全性**：是否进行过安全性评估，是否有安全漏洞？
- **稳定性**：系统的运行是否稳定，有无崩溃或其他重大问题？

#### 

# 一、开发实施的需求

# **1.1移动端应用**

移动端应用系统表现形式为H5页面，供运维人员平时操作使用，同时供管理人员查看统计分析数据，移动端应用系统继承拓展调控管理系统的大屏端软件的功能，根据手机端屏幕的显示特点，进行有针对性的设计展示。移动端应用需嵌入到i国网APP中，遵循国网互联网应用的统一安全规范，具备内外网隔离设备和防入侵攻击策略。

**1.1.1数据一级看板**

公司高层，管理人员可以通过一级页面看板，查看整个公司各个园区的汇总统计分析数据。并可以跳转到相应园区的二级页面，三级页面。

**1.1.2数据二级看板**

各个园区的运维人员、维修人员，可以查看自己园区的二级页面看板。二级页面汇总了六大类分系统的统计分析数据。

**1.1.3数据三级看板**

各个园区的运维人员，维修人员，可以查看自己园区的三级页面看板。三级页面分别展示各个分系统的统计分析数据，包括电气、空水、消防、能耗、安防、特种设备分系统。

**1.1.4普通员工看板**

普通员工可以根据桌面端设置的权限，查看相应的看板数据。

# **1.2 综合能源管理系统**

#### **1.2.1移动端告警中心**

用户可以按照子系统分类、时间段、告警事件状态等字段进行精准查询。

当前告警查询：输入告警编号，选择告警类型、告警等级、告警状态、 发生时间，对未处理完成的告警进行模糊查询。 

当前告警详情：展示告警编号、标题、设备名称、关闭时间、告警类型、告警状态、发生时间、描述。 

历史告警查询：输入告警编号，选择告警类型、告警等级、发生时间， 对已处理完成的告警进行模糊查询。 

历史告警详情：展示告警编号、标题、设备名称、关闭时间、告警类型、告警状态、发生时间、描述。

#### **1.2.2 工单处理**

工单系统处理所有人工、自动发起的工单。当发生告警事件时，运维人员能下发工单任务给现场安保人员/维修人员。 

工单中心包括新增工单、修改工单、查询工单、签收工单、派发工单、结束处理、处理工单等功能。工单可关联事件照片和视频，工单处理人可上传处理过程中的照片和视频。

#### **1.2.3 分系统管理**

分系统主要包括电气、空水、消防、能耗、安防、特种设备分系统。主要包括组态图展示、数据查询、能源监测、能源预测/调优/分析等功能。

#### **1.2.4 设备巡检**

包后台管理增加完善已有桌面端系统的巡检计划功能：在制定巡检计划之前，对巡检人员信息、巡检排班、巡检点、巡检内容及标准，巡检时间及路线进行安排，为不同类型的巡检计划录入基本信息，启动计划即可下达移动客户端。

巡检人员准确采集相应指标数据，上传数据到系统，系统根据巡检结果，生成巡检报告，同时将有异常的巡检点信息发送给相关人员，相关人员可根据异常信息做出闭环处理。

#  

# **1.3数字孪生系统**

完成园区里主要设备设施，管道管廊的三维模型，交互操作。先以白广路，都城园区为试点，本次建设以桌面端、大屏端为基础。

#### **1.3.1 电气数字孪生系统**

对电力能源统计系统、UPS系统涉及的设备设施进行三维建模，在三维模型上叠加相应的实时数据、历史数据、告警数据。

#### **1.3.2空水数字孪生系统**

对制冷、制热、空调通风、风机盘管系统涉及的设备设施，管线管网进行三维建模，在三维模型上叠加相应的实时数据、历史数据、告警数据。展示管道水流的流向，流速，温度，压力等效果，用不同颜色区分。分别展示楼宇每层的空调末端点位。展示制热系统、制冷系统的2.5D组态图。

#### **1.3.3消防数字孪生系统**

对消防报警系统涉及的设备设施，管线管网进行三维建模，在三维模型上叠加相应的实时数据、历史数据、告警数据。分别展示楼宇每层的消防点位。

#### **1.3.4能耗环境数字孪生系统**

对能耗环境系统涉及的设备设施进行三维建模，在三维模型上叠加相应的实时数据、历史数据、告警数据。分别展示楼宇每层的水浸报警点位的实时数据，告警数据。

#### **1.3.5安防数字孪生系统**

在楼宇三维模型上叠加摄像头点位，可以点击调取实时监控画面和查看历史录像。

#### **1.3.6特种设备数字孪生系统**

对电梯系统涉及的设备设施进行三维建模，在三维模型上叠加相应的实时数据、历史数据、告警数据。

#### **1.3.7三维巡检系统**

通过虚拟漫游，实现园区楼宇各个分系统的设备巡检，可以手动选择线路，也可以自动规划线路，在各个巡检点上打卡，展示相应实时数据，报警数据。

#  

# **1.4 大屏端桌面端功能升级**

需要对已有大屏端桌面端功能做如下升级：

#### **1.4.1移动端应用接口服务**

包括数据看板接口服务，告警中心接口服务，工单处理接口服务，移动巡检接口服务等，同时后台补充开发巡检管理功能，包括巡检计划管理，巡检点位管理，巡检路线管理，巡检人员管理，巡检任务管理，巡检历史记录管理等。

#### **1.4.2大屏端三维模型数据接口服务**

新增电气、空水、消防、能耗、安防、特种设备分系统的数据接口服务，为在大屏端三维模型展示实时数据、历史数据、报警数据提供支撑。

#### **1.4.3大屏端三维可视化功能**

升级大屏端功能，支撑场景的漫游浏览，三维模型的可视化展示。

**1.4.4数据库接口适配**

需要对大屏端，桌面端的数据库，界面进行功能新增，适配接入新园区的新的系统，包括且不限于门禁系统，周界报警，燃气锅炉，配电室监控系统等。

 

二、非功能性需求

1.性能

| ***\*类型\****   | ***\*技术参数要求\****                                       |
| ---------------- | ------------------------------------------------------------ |
| PC端响应时间     | 主页展示<5秒，子功能页展示<3秒，页面元素<50个，录入界面响应时间4秒以内；报表查询响应时间8秒以内。页面的阅读体验，需要滚动流畅，滚动阅读时不停顿。 |
| 移动端响应时间   | 移动端应用主页展示<5秒，子功能页展示<3秒，页面元素<50个，页面的阅读体验，需要滚动流畅，滚动阅读时不停顿。 |
| 数字孪生系统性能 | 场景简模第一次加载时间<6秒，精模加载时间<10秒，场景漫游浏览过程流程，无明显卡顿。 |
| 设备数据采集     | 延迟不能超过1秒。                                            |
| 设备点位数       | 支持不少于15万个点位接入，可按需扩展点位。                   |
| 灾备方案和要求   | 应用系统、数据库均要求使用集群等冗余架构。                   |
| 并发数           | 支持2000人在线，200人并发。                                  |
| 易用性           | 系统应易于安装和使用，具备风格一致的用户界面，且为中文操作界面,为方便使用。 |

2.兼容性

| ***\*类型\**** | **技术参数要求**                                |
| -------------- | ----------------------------------------------- |
| 支持系统兼容   | 服务端支持的主流操作系统如Windows、Linux等。    |
| 浏览器兼容     | 客户端支持Google、火狐、微软、360等主流浏览器。 |
| 数据库兼容     | 支持的数据库GaussDB、MySql等。                  |

3.故障恢复

| ***\*类型\**** | ***\*技术参数要求\****                                       |
| -------------- | ------------------------------------------------------------ |
| 故障恢复       | 如果发生故障，系统能通过可靠性机制（例如主备双机、负载均衡等）保证业务不中断，且故障部件能尽快恢复，故障期间数据完整不丢失。 |
| 异常处理       | 系统异常时，进行异常处理，能够保证2小时完成异常恢复。        |
| 日志           | 系统的所有操作需要记录日志，方便定位异常问题。               |

4.信息安全

| ***\*类型\**** | ***\*技术参数要求\****                                       |
| -------------- | ------------------------------------------------------------ |
| 架构安全       | 采用三层架构设计，前端和后端管理应用设计应该分离部署。采用多域网络架构设计（内外资源隔离，防止外网对底层资源的直接访问） |
| 应用安全       | 需要满足身份鉴别、身份管理、访问控制服务、加密服务、数字签名及安全审计等要求。 |
| 数据安全       | 需要有数据备份、防数据丢失和数据泄漏相应措施。               |