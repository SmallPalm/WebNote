# 一. this绑定

- 箭头函数：没有自己作用域的this，会获取父级作用域的this值
- 普通函数：有自己的this绑定，this的值取决于函数的调用方式





# 二.构造函数

- 箭头函数：不能作为构造函数，不能使用new关键字调用
- 普通函数：可以作为构造函数，可以使用new关键字调用



# 三.arguments对象

- 箭头函数：不具备arguments对象
  - arguments对象是在传统函数中用于访问函数的参数
- 普通函数：拥有arguments对象
  - 可以用于访问传递给函数的参数



# 四.prototype属性

- 箭头函数：没有prototype属性
- 普通函数：具有prototype属性







# 细节

箭头函数和普通函数在 JavaScript 中有一些关键的区别，这些区别主要体现在语法、`this` 绑定、参数处理等方面。以下是详细的比较：

### 1. 语法更简洁

- **箭头函数**：使用 `=>` 符号定义，语法更简洁，尤其是当函数体只有一行时，可以省略 `{}` 和 `return` 关键字。

  ```js
  // 箭头函数
  const add = (a, b) => a + b;
  ```

- **普通函数**：使用 `function` 关键字定义，语法相对冗长。

  ```js
  // 普通函数
  function add(a, b) {
    return a + b;
  }
  ```

### 2. `this` 绑定方式不同

- **箭头函数**：不绑定自己的 `this`，而是继承自外层的上下文环境（也就是定义函数时的 `this`），所以不会因为调用方式的不同而改变 `this`。

  ```js
  // 箭头函数继承外部的 this
  const obj = {
    value: 42,
    getValue: () => {
      console.log(this.value); // 输出 undefined，因为箭头函数中的 this 指向全局对象（在严格模式下是 undefined）
    },
  };
  obj.getValue();
  ```

- **普通函数**：`this` 绑定取决于函数的调用方式，如果是对象调用，`this` 指向该对象；如果是直接调用，`this` 指向全局对象（非严格模式下）。

  ```js
  //普通函数的 this 指向调用它的对象
  const obj = {
    value: 42,
    getValue: function() {
      console.log(this.value); // 输出 42，因为普通函数的 this 指向 obj
    },
  };
  obj.getValue();
  ```

### 3. 不能作为构造函数

- **箭头函数**：不能作为构造函数使用，也不能使用 `new` 关键字，因为箭头函数没有自己的 `prototype` 属性。

  ```js
  const Foo = () => {};
  // 报错：Foo is not a constructor
  // const foo = new Foo();
  ```

- **普通函数**：可以作为构造函数使用，并通过 `new` 关键字实例化对象。

  ```js
  function Foo() {}
  const foo = new Foo(); // 正常创建实例
  ```

### 4. 没有 `arguments` 对象

- **箭头函数**：没有自己的 `arguments` 对象，如果需要，可以通过使用剩余参数语法 `...args` 进行替代。

  ```js
  const func = (...args) => {
    console.log(args); // 使用 ...args 获取参数
  };
  func(1, 2, 3); // 输出 [1, 2, 3]
  ```

- **普通函数**：有自己的 `arguments` 对象，用于获取传递给函数的参数列表。

  ```js
  function func() {
    console.log(arguments); // 输出 [Arguments] { '0': 1, '1': 2, '2': 3 }
  }
  func(1, 2, 3);
  ```

### 5. 不能使用 `yield`

- **箭头函数**：不能作为生成器函数使用，也不支持 `yield` 关键字。
- **普通函数**：可以通过在函数前加 `*` 来定义生成器函数，并使用 `yield` 关键字生成值。

### 总结

箭头函数和普通函数各有优劣，箭头函数更适合需要简洁语法和固定 `this` 绑定的场景，而普通函数适用于需要构造函数、`arguments` 对象或生成器的场景。根据需求选择合适的函数类型可以使代码更易于理解和维护。