#  **格式化占位符** 

当打印时，需要在字符串中的添加类型占位符

1. 历史背景

   它的设计初衷是提供一种灵活、高效的字符串格式化方式。

   在 1970 年代，C 语言被设计为一种接近硬件的语言，主要用于开发操作系统（例如 UNIX）。

   当时计算资源有限，代码需要尽量高效且简洁

   - 高效：支持占位符，直接插入变量，而不是拼接字符串
   - 通用：适配各种类型的数据

2. 技术原因

   多类型变量的统一输出

   - printf 的格式化功能允许程序员通过 %d（整数）、%f（浮点数）、%s（字符串）等占位符，灵活地输出不同类型的数据。

   低级语言的设计哲学

   - 在 C 语言中，printf 的实现需要直接操作内存和堆栈（因为 printf 可以接收可变数量的参数）
   - 使用 % 符号作为格式化标志，可以让编译器更容易解析格式字符串，确定需要从堆栈读取哪些数据，以及如何将数据转换为目标字符串。
   - 举个例子，printf("%d %f", 10, 3.14)，编译器会：
     - 先解析字符串，发现 %d 和 %f 两个占位符。
     - 依次从堆栈中读取参数，将 10 转换为整数，将 3.14 转换为浮点数，最终拼接成输出。

   **为何不像现代语言用模板字符串？**

   - **低级语言的局限性**：
     - C 语言需要精确控制内存和堆栈，而早期计算机的内存资源有限。
     - 模板字符串（如 Python 的 f"Hello {name}"）需要更复杂的编译器支持和运行时解析机制，而在 C 的时代这些还很难实现。

3. 设计哲学

   - **效率问题**：
     - 在低级语言中，字符串拼接需要动态分配内存来存储中间结果，而 printf 通过一次性格式化输出，避免了中间步骤，提高了效率。